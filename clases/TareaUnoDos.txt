## ğŸ¶ğŸ± Ejercicio integrador: Base de datos â€œPetCenterâ€ (Tienda de mascotas y veterinaria)

---

### ğŸ“˜ Objetivo:

Construir desde cero una base de datos para una tienda de mascotas que tambiÃ©n brinda servicios veterinarios. Vas a:

* Crear la base de datos.
* Crear tablas con claves primarias y forÃ¡neas.
* Usar tipos de datos correctamente.
* Aplicar restricciones (`NOT NULL`, `UNIQUE`, `DEFAULT`).
* Insertar datos reales.
* Establecer relaciones entre tablas.
* Dejar todo listo para consultas avanzadas en el futuro.

---

## âœ… PASO 1 â€“ Crear la base de datos

```sql
CREATE DATABASE petcenter;
USE petcenter;
```

ğŸ¯ **Objetivo:** Aprendiste que `CREATE DATABASE` crea el contenedor principal donde estarÃ¡n las tablas. `USE` selecciona esa base para trabajar.

---

## âœ… PASO 2 â€“ Crear las tablas principales

### ğŸŸ¦ 1. Tabla `clientes`

```sql
CREATE TABLE clientes (
  id INT AUTO_INCREMENT PRIMARY KEY,
  nombre VARCHAR(100) NOT NULL,
  email VARCHAR(100) UNIQUE,
  telefono VARCHAR(20),
  fecha_registro DATE DEFAULT CURRENT_DATE
);
```

ğŸ¯ **ExplicaciÃ³n:**

* `AUTO_INCREMENT` para generar ID automÃ¡ticamente.
* `NOT NULL` asegura que siempre haya nombre.
* `UNIQUE` en email evita duplicados.
* `DEFAULT` define una fecha automÃ¡tica.

---

### ğŸŸ¦ 2. Tabla `mascotas`

```sql
CREATE TABLE mascotas (
  id INT AUTO_INCREMENT PRIMARY KEY,
  nombre VARCHAR(100) NOT NULL,
  especie VARCHAR(50),
  raza VARCHAR(100),
  edad INT,
  cliente_id INT,
  FOREIGN KEY (cliente_id) REFERENCES clientes(id)
);
```

ğŸ¯ **ExplicaciÃ³n:**

* Cada mascota se relaciona con un cliente.
* `cliente_id` es una **clave forÃ¡nea** que vincula a `clientes`.

---

### ğŸŸ¦ 3. Tabla `productos`

```sql
CREATE TABLE productos (
  id INT AUTO_INCREMENT PRIMARY KEY,
  nombre VARCHAR(100) NOT NULL,
  descripcion TEXT,
  precio DECIMAL(10,2) NOT NULL,
  stock INT DEFAULT 0
);
```

ğŸ¯ **ExplicaciÃ³n:**

* `DECIMAL` para precios con coma.
* `DEFAULT 0` asegura que stock nunca sea nulo.
* Usamos `TEXT` para descripciones largas.

---

### ğŸŸ¦ 4. Tabla `categorias_productos`

```sql
CREATE TABLE categorias_productos (
  id INT AUTO_INCREMENT PRIMARY KEY,
  nombre VARCHAR(100) UNIQUE NOT NULL
);
```

ğŸ¯ **ExplicaciÃ³n:**

* Creamos una tabla de categorÃ­as para productos (Ej: Alimentos, Juguetes, Medicamentos).
* `UNIQUE` evita repetir categorÃ­as.

---

### ğŸŸ¦ 5. RelaciÃ³n entre productos y categorÃ­as

```sql
ALTER TABLE productos ADD categoria_id INT;
ALTER TABLE productos ADD FOREIGN KEY (categoria_id) REFERENCES categorias_productos(id);
```

ğŸ¯ **ExplicaciÃ³n:**

* Se relaciona cada producto con una categorÃ­a.

---

### ğŸŸ¦ 6. Tabla `veterinarios`

```sql
CREATE TABLE veterinarios (
  id INT AUTO_INCREMENT PRIMARY KEY,
  nombre VARCHAR(100) NOT NULL,
  matricula VARCHAR(50) UNIQUE,
  especialidad VARCHAR(100)
);
```

ğŸ¯ **ExplicaciÃ³n:**

* `matricula` es Ãºnica para cada profesional.
* Esto nos permitirÃ¡ agendar turnos veterinarios mÃ¡s adelante.

---

### ğŸŸ¦ 7. Tabla `consultas_veterinarias`

```sql
CREATE TABLE consultas_veterinarias (
  id INT AUTO_INCREMENT PRIMARY KEY,
  mascota_id INT NOT NULL,
  veterinario_id INT NOT NULL,
  fecha DATE NOT NULL,
  motivo TEXT,
  FOREIGN KEY (mascota_id) REFERENCES mascotas(id),
  FOREIGN KEY (veterinario_id) REFERENCES veterinarios(id)
);
```

ğŸ¯ **ExplicaciÃ³n:**

* Relaciona mascotas y veterinarios.
* Guarda fecha y motivo de cada atenciÃ³n.

---

## âœ… PASO 3 â€“ Insertar datos de prueba

```sql
-- Clientes
INSERT INTO clientes (nombre, email, telefono) VALUES 
('Juan PÃ©rez', 'juan@mail.com', '12345678'),
('Ana LÃ³pez', 'ana@mail.com', '87654321');

-- Mascotas
INSERT INTO mascotas (nombre, especie, raza, edad, cliente_id) VALUES 
('Firulais', 'Perro', 'Labrador', 3, 1),
('Mishi', 'Gato', 'Siames', 2, 2);

-- CategorÃ­as
INSERT INTO categorias_productos (nombre) VALUES 
('Alimentos'), ('Juguetes'), ('Medicamentos');

-- Productos
INSERT INTO productos (nombre, descripcion, precio, stock, categoria_id) VALUES
('Croquetas Premium', 'Bolsa de 10kg', 8500.00, 30, 1),
('Pelota con sonido', 'Pelota para perro que chirrÃ­a', 1200.00, 15, 2),
('Antipulgas', 'Pastilla mensual antipulgas', 3000.00, 20, 3);

-- Veterinarios
INSERT INTO veterinarios (nombre, matricula, especialidad) VALUES
('Dra. Marta GÃ³mez', 'VET12345', 'Felinos'),
('Dr. Luis Romero', 'VET67890', 'Caninos');

-- Consultas
INSERT INTO consultas_veterinarias (mascota_id, veterinario_id, fecha, motivo) VALUES
(1, 2, '2025-08-01', 'VacunaciÃ³n anual'),
(2, 1, '2025-08-03', 'Chequeo general');
```

---

## âœ… PASO 4 â€“ Verificar con SELECT

```sql
SELECT * FROM clientes;
SELECT * FROM mascotas;
SELECT * FROM productos WHERE stock > 10;
SELECT * FROM consultas_veterinarias;
```

ğŸ¯ **ExplicaciÃ³n:**
Estas consultas permiten comprobar que la base de datos estÃ¡ funcionando correctamente.

---

## ğŸ“¦ Resultado Final

âœ” Base de datos `petcenter` lista
âœ” Relacionada y normalizada
âœ” Datos de clientes, mascotas, productos, consultas y veterinarios
âœ” Preparada para futuras operaciones (ventas, recetas, historial mÃ©dico, stock, etc.)
